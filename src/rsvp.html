<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
   
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>Julia & Brendan</title>

    <!-- Bootstrap core CSS -->
    <link href="../dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="jumbotron-narrow.css" rel="stylesheet">
    
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="container page-card">
      <div class="header">
        <h1 class="title">Julia & Brendan</h1>
      </div>
      <div class="spacer">
        <nav>
          <ul class="nav nav-pills nav-justified">
            <li role="presentation"><a href="./index.html">Home</a></li>
            <li role="presentation"><a href="./wedding.html">Wedding</a></li>
            <li role="presentation"><a href="./travel.html">Travel</a></li>
            <li role="presentation"><a href="./photos.html">Photos</a></li>
            <li role="presentation"><a href="./registry.html">Registry</a></li>
            <li role="presentation" class="active-nav"><a href="./rsvp.html">RSVP</a></li>
          </ul>
        </nav>
      </div>

      <div class="jumbotron">
        <img src="../media/mail.jpg">
      </div>

      <div class="row details">
        <div class="col-sm-8 col-sm-offset-2 text-center">
            <div class="block-no-border">
                <h4>Please RSVP by October 3, 2020</h4>
              <form class="text-left rsvpForm">
                    <div class="form-group">
                        <label for="guestName">Name*</label>
                        <input type="text" id="guestName" class="form-control" placeholder="First & Last Name">
                    </div>
                    <div class="form-group">
                        <label>Are you able to attend?*</label>
                    
                    <div class="radio">
                        <div class="col-xs-5">
                            <label>
                                <input type="radio" name="attendance" id="attendYes" value="Yes">
                                Attending
                            </label>
                        </div>
                        <div class="col-xs-5 col-xs-offset-2">
                            <label>
                                <input type="radio" name="attendance" id="attendNo" value="No">
                                Unable to Attend
                            </label>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="otherGuest">Is Anyone Coming With You?</label>
                </div>
                <div class="form-group" id="plusRSVP">
                    <div class="col-xs-2">
                        <span id="addGuest" class="glyphicon glyphicon-plus-sign" style="padding-top:7px"></span>
                    </div>
                    <div class="col-xs-10">
                    <input type="text" name="otherGuest" class="form-control plusPerson" id="plusOne" placeholder="Guest's Name">
                    </div>
                    <div class="col-xs-10 col-xs-offset-2" class="plusPerson"></div>
                </div>  
                <div class="form-group">
                    <label for="comments">Message</label>
                    <textarea name="comments" id="messageBlock" class="form-control" rows="5" placeholder="Let us know if you have any dietary restrictions, song requests, or just use this space to leave a note."></textarea>
                </div>
                <div id="submitError"></div>
                <button type="submit" id="rsvpSubmitBtn" class="btn btn-default">Submit</button>
              </form>
            </div>
        </div>
      </div>

      <footer class="footer">
        <p>&copy; Plow Industries LLC</p>
      </footer>

    </div> <!-- /container -->


    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>
    <script
            src="https://code.jquery.com/jquery-3.4.1.min.js"
            integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
            crossorigin="anonymous">
    </script>
    <script>
        $(document).ready(function() {
            $("#rsvpSubmitBtn").click(function(event) {
                event.preventDefault();
                submitForm();
            });
            $("#addGuest").click(function(event) {
                event.preventDefault();
                let newInput = "<div class='col-xs-10 col-xs-offset-2'>" +
                                "<input type='text' class='form-control plusPerson' placeholder='Name'></div>";
                $("#plusRSVP").append(newInput);
            });

        });

        function submitForm() {
            const guestName = $("#guestName").val();
            const attending = $("#attendYes").is(":checked");
            const message = $.trim($("#messageBlock").val());
            if (!guestName || (!attending && $("#attendNo").is(":checked"))) {
                $("#submitError").empty();
                $("#submitError").append("<span class='text-danger'>Please fill out all required fields.</span>")
            } else {
                console.log("Guest: " + guestName);
                console.log("Attending: " + attending);
                console.log("Message: " + message);
                //TODO: Submit Form Values
            }
        }    
    </script>
  </body>
</html>
